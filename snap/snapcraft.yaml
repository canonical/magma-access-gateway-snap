name: magma-access-gateway
base: core20
version: '1.6.1'
summary: Snap for Magma Access Gateway
description: |-
  The Access Gateway (AGW) provides network services and policy enforcement. In an LTE network, 
  the AGW implements an evolved packet core (EPC), and a combination of an AAA and a PGW. It works 
  with existing, unmodified commercial radio hardware.
  For detailed description visit https://docs.magmacore.org/docs/next/lte/architecture_overview.
  
  System requirements:
  - Ubuntu 20.04 LTS installed (other OSs are not supported right now)
  - 64bit-X86 machine
  - baremetal strongly recommended
  - two ethernet interfaces (SGi and S1)

grade: devel
confinement: classic

environment:
  PYTHONPATH: "$SNAP/lib/python3.8/site-packages"

apps:
  install:
    command: bin/install-agw
  configure:
    command: bin/configure-agw
  post-install:
    command: bin/agw-postinstall

parts:
  magma-access-gateway:
    plugin: python
    source: .
    build-packages:
      - libsystemd-dev
      - pkg-config
